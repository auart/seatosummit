<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sea to Summit – Choose a Path</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Silkscreen:wght@400;700&display=swap" rel="stylesheet">

<style>
html, body {
  margin: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: black;
  position: fixed;
  inset: 0;
}

* { overscroll-behavior: none; }

.app {
  position: fixed;
  inset: 0;
  background: black;
  overflow: hidden;
}

.stage-wrapper {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) scale(1);
  transform-origin: center center;
  width: 1920px;
  height: 1080px;
}

.stage {
  position: relative;
  width: 1920px;
  height: 1080px;
}

.layer {
  position: absolute;
  inset: 0;
  width: 1920px;
  height: 1080px;
  image-rendering: pixelated;
  pointer-events: none;
}

.frame { z-index: 10; }

.story {
  position: absolute;
  left: 50%;
  bottom: 185px; /* moved DOWN slightly */
  transform: translateX(-50%);
  width: 980px;
  font-family: "Silkscreen";
  font-size: 24px;
  line-height: 1.25;
  color: black;
  z-index: 20;
  padding: 0 50px;
  box-sizing: border-box;
}

.choices {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 40px;
  z-index: 30;
}

.choice {
  position: relative;
  transform: scale(0.84);
  text-decoration: none;
}

.choice img {
  width: 420px;
  image-rendering: pixelated;
}

.choice span {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-family: "Press Start 2P";
  font-size: 16px;
  color: black;
  pointer-events: none;
}
</style>
</head>

<body>
<div class="app">

  <div class="stage-wrapper" id="stageWrapper">
    <div class="stage">

      <img class="layer" src="starthome.png" alt="">
      <img class="layer frame" src="stsframe3.png" alt="">

      <div class="story">
        You take a moment to get your bearings.<br><br>
        To your left, the beach curves along the shoreline.<br>
        Ahead, a dense grove of palms blocks the island’s interior.<br>
        To your right, dark lava rocks jut into the water.
      </div>

      <div class="choices">
        <a href="beach1.html" class="choice">
          <img src="stsbutton.png" alt="">
          <span>Go Left<br>Along the Beach</span>
        </a>

        <a href="palms1.html" class="choice">
          <img src="stsbutton.png" alt="">
          <span>Enter the<br>Palm Grove</span>
        </a>

        <a href="rocky1.html" class="choice">
          <img src="stsbutton.png" alt="">
          <span>Explore the<br>Rocky Shore</span>
        </a>
      </div>

    </div>
  </div>

  <audio id="waves" src="waves.mp3" preload="auto" loop></audio>

</div>

<script>
/* stage scaling */
const stageWrapper = document.getElementById("stageWrapper");
function scaleStage() {
  const scale = Math.min(window.innerWidth / 1920, window.innerHeight / 1080);
  stageWrapper.style.transform = "translate(-50%, -50%) scale(" + scale + ")";
}
window.addEventListener("resize", scaleStage);
scaleStage();

/* wave persistence (Option B) */
const waves = document.getElementById("waves");
const WAVE_TIME_KEY = "sts_waves_time_v1";
const WAVE_VOL_KEY  = "sts_waves_vol_v1";

const savedVol = parseFloat(localStorage.getItem(WAVE_VOL_KEY));
waves.volume = Number.isFinite(savedVol) ? savedVol : 0.6;

const savedTime = parseFloat(localStorage.getItem(WAVE_TIME_KEY));
if (Number.isFinite(savedTime)) {
  try { waves.currentTime = savedTime; } catch {}
}

const p = waves.play();
if (p && p.catch) p.catch(() => {});

setInterval(() => {
  localStorage.setItem(WAVE_TIME_KEY, waves.currentTime);
  localStorage.setItem(WAVE_VOL_KEY, waves.volume);
}, 250);
</script>
</body>
</html>
